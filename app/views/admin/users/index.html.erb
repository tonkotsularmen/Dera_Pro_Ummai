<main>
  <div class="container">
    <div class="row mt-2 border-bottom">
      <div class="col-3"><%= flash[:notice] %></div>
      <div class="col-6 text-center mt-3">
        <div><h3>ユーザー管理</h3></div>
      </div>
      <div class="col-3 text-center mt-4">ユーザーの総数　：　<%= @all_users.count.to_s %></div>
    </div>
    <div class="row">
      <div class="offset-2 col-8">
        <table class="table table-striped table-hover border-0">
        <thead class="thead-light">
          <tr>
            <th scope="col"></th>
            <th scope="col" class="text-center">user_name</th>
            <th scope="col" class="text-center">email</th>
            <th scope="col" class="text-center">会員ステータス</th>
            <th scope="col" class="text-center">会員ID</th>
          </tr>
        </thead>
        <tbody>
          <% @users.each do |user| %>
          <tr>
            <th scope="row" class="p-1 text-center">
              <%= link_to admin_user_path(user) do %>
                <%= image_tag user.get_profile_image, size: "40x40", class: "rounded-circle" %>
              <% end %>
            </th>
            <td class="text-center">
              <%= link_to admin_user_path(user) do %>
                <%= user.user_name %>
              <% end %>
            </td>
            <td class="text-center"><%= user.email %></td>
            <td class="text-center">
              <% if user.user_status == 1 %>
                有効会員
              <% else %>
                退会済み
              <% end %>
            </td>
            <td class="text-center"><%= user.id %></td>
          </tr>
          <% end %>
        </tbody>
      </table>

      </div>
    </div>
    <div class="row">
      <div class="offset-4 col-4 d-flex justify-content-center">
        <%= paginate @users %>
      </div>
    </div>
  </div>
</main>


